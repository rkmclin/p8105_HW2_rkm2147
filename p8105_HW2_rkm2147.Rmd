---
title: "HW2 Data Wrangling"
author: "Ronae McLin rkm2147"
date: "9/21/2020"
output: github_document
---

```{r}
library(tidyverse)
library(readxl)
```

# Problem 1

 Mr. Trash Wheel data

- We will be importing the data, and then follow up by cleaning it.

```{r}
trash_df = readxl::read_excel("./trash_wheel.xlsx",                    range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
    sports_balls = round(sports_balls),
    sports_balls = as.integer(sports_balls)
  )

```

We are next going to read and clean precipitation data for 2017/2018. 

```{r}
rain_2018 = readxl::read_excel("./trash_wheel.xlsx",                    sheet = "2018 Precipitation",
        skip = 1) %>% 
        janitor::clean_names() %>% 
        drop_na(month) %>% 
        mutate(year = 2018) %>% 
        relocate(year)
  
rain_2017 = readxl::read_excel("./trash_wheel.xlsx",                    sheet = "2017 Precipitation",
        skip = 1) %>% 
        janitor::clean_names() %>% 
        drop_na(month) %>% 
        mutate(year = 2017) %>% 
        relocate(year)
```

Changing the variable of year into a complete month name and then combining 2017 and 2018 into one table. 

```{r}
month_df = 
	tibble(
		month = 1:12,
		month_name = month.name
	)

rain_df = bind_rows(rain_2017, rain_2018)

rain_df =
	left_join(rain_df, month_df, by = "month") %>% 
  select(year, total, month_name) %>% 
  relocate(month_name)
  
```


The trash data frame contains information about the Mr.Trash Wheel trash collector that is located in Baltimore, Maryland. 
There is a total of `r nrow(trash_df)` rows in the data frame. The total amount of glass bottles collected by Mr. Trash Wheel so far is `r trash_df %>% pull(glass_bottles) %>% sum()` and the total amount of plastic bottles so far is `r trash_df %>% pull(plastic_bottles) %>% sum()`. 
he median number of sports balls in 2017 was `r trash_df %>% filter(year == 2017) %>% pull(sports_balls) %>% median()`.

There is a total of `r nrow(rain_df)` rows in the data frame.
The total amount of precipitation in 2018 was `r rain_df %>% filter(year == 2018) %>% pull(total) %>% sum()` inches.


# Problem 2



 Convert the entry variable from character (YES vs NO) to a logical variable (the ifelse or recode function may be useful).

Write a short paragraph about this dataset â€“ explain briefly what variables the dataset contains, describe your data cleaning steps so far, and give the dimension (rows x columns) of the resulting dataset. Are these data tidy?

Answer the following questions using these data:

How many distinct stations are there? Note that stations are identified both by name and by line (e.g. 125th St A/B/C/D; 125st 1; 125st 4/5); the distinct function may be useful here.
How many stations are ADA compliant?
What proportion of station entrances / exits without vending allow entrance?
Reformat data so that route number and route name are distinct variables. How many distinct stations serve the A train? Of the stations that serve the A train, how many are ADA compliant?



```{r}
transit_df = read_csv("./transit.csv") %>% janitor::clean_names() %>% 
  select(line, station_name,station_latitude, station_longitude,route1:route11, entry, vending,       entrance_type, ada) %>% 
  mutate(
     recode(entry, YES = "TRUE", NO = "FALSE"))
    
    
  
  
```


# Problem 3




 replace month number with month name; create a president variable taking values gop and dem, and remove prez_dem and prez_gop; and remove the day variable.
```{r}
pols_df = read_csv("./538_data/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year","month","day"))

```

```{r}
polsmonth_df = 
	tibble(
		month = c("01","02","03","04","05","06","07","08","09","10","11","12"),
		month_name = month.name
	)

pols_df =
	left_join(pols_df, polsmonth_df, by = "month") %>% 
relocate(prez_gop,prez_dem) %>% 
  pivot_longer(
    prez_gop:prez_dem,
    names_to = "president",
    values_to = "amount"
  )

```



need to convert character into numeric value
unemployment.csv
```{r}

```

snp.csv
```{r}

```

